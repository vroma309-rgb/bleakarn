<!DOCTYPE html>
<html>
<head>
    <title>Карта з'єднань</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
        import elkLayouts from 'https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0/dist/mermaid-layout-elk.esm.min.mjs';

        mermaid.registerLayoutLoaders(elkLayouts);
        mermaid.initialize({
            theme: 'dark',
            startOnLoad: false,
            flowchart: {
                defaultRenderer: 'elk'
            }
        });

        document.addEventListener('DOMContentLoaded', async function() {
            const container = document.getElementById('mermaid-container');
            
            // Беремо код з контейнера
            const diagramCode = container.textContent;
            
            // Генеруємо SVG
            const { svg } = await mermaid.render('mermaid-diagram', diagramCode);
            
            // Замінюємо код на SVG
            container.innerHTML = svg;
            
            // Налаштовуємо масштабування
            setupZoom();
        });
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #121212;
        }
        
        #container {
            width: 100vw;
            height: 100vh;
            cursor: grab;
        }
        
        #container:active {
            cursor: grabbing;
        }
        
        #mermaid-container {
            transform-origin: 0 0;
        }
        
        .node rect {
            fill: #1e3a8a;
            stroke: #3b82f6;
            rx: 5;
            ry: 5;
        }
        
        .node text {
            fill: white;
            font-weight: bold;
        }
        
        .edgePath path {
            stroke: #60a5fa;
            stroke-width: 2px;
        }
        
        .edgePath .arrowheadPath {
            fill: #60a5fa;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="mermaid-container">
%%{init: { 'flowchart': { 'defaultRenderer': 'elk' } } }%%
flowchart TB
index["Головна сторінка"]
    about["Про себе"]
    contact["Контакти"]
    copyright["Авторське право"]
    privacy["Політика конфіденційності"]
    terms["Умови використання"]
    blog["Блог"]
    story["Моя історія"]

    depth["Глибина"]
    free["У вільний час"]
    learn["Зараз цікавить"]
    observe["Спостереження"]
    order["Порядок"]
    plan["Думаю над"]



    projects["Проекти"]
    ideas["Ідеї"]
    learning["Навчання"]
    earning["Заробіток"]
    self-development["Саморозвиток"]
    space["Простір"]
    habits["Звички"]
    process["Процеси"]
    planning["Планування"]
    cleanliness["Чистота"]
    focus["Фокус"]
    people["Люди"]
    details["Деталі"]
    self["Себе"]
    music["Музика"]
    books["Книги"]
    silence["Тиша"]
    sport["Спорт"]
    reflection["Рефлексія"]
    meaning["Сенс"]

    observe --> people & details & self
    order --> space & habits & process & planning & cleanliness & self-development & focus
    depth --> reflection & observe & meaning & ideas
    learn --> self-development & ideas & observe & learning & free & projects & earning
    free --> music & books & silence & observe & sport
    plan --> projects & ideas & learning & earning & self-development & order

      index --> index & about & contact & copyright & privacy & terms
      about --> index & about & contact & copyright & privacy & terms
      contact --> index & about & contact & copyright & privacy & terms
      copyright --> index & about & contact & copyright & privacy & terms
      privacy --> index & about & contact & copyright & privacy & terms
      terms --> index & about & contact & copyright & privacy & terms

      depth --> index & about & contact & copyright & privacy & terms
      free --> index & about & contact & copyright & privacy & terms
      learn --> index & about & contact & copyright & privacy & terms
      observe --> index & about & contact & copyright & privacy & terms
      order --> index & about & contact & copyright & privacy & terms
      plan --> index & about & contact & copyright & privacy & terms

      projects --> index & about & contact & copyright & privacy & terms
      ideas --> index & about & contact & copyright & privacy & terms
      learning --> index & about & contact & copyright & privacy & terms
      earning --> index & about & contact & copyright & privacy & terms
      self-development --> index & about & contact & copyright & privacy & terms
      space --> index & about & contact & copyright & privacy & terms
      habits --> index & about & contact & copyright & privacy & terms
      process --> index & about & contact & copyright & privacy & terms
      planning --> index & about & contact & copyright & privacy & terms
      cleanliness --> index & about & contact & copyright & privacy & terms
      focus --> index & about & contact & copyright & privacy & terms
      people --> index & about & contact & copyright & privacy & terms
      details --> index & about & contact & copyright & privacy & terms
      self --> index & about & contact & copyright & privacy & terms
      music --> index & about & contact & copyright & privacy & terms
      books --> index & about & contact & copyright & privacy & terms
      silence --> index & about & contact & copyright & privacy & terms
      sport --> index & about & contact & copyright & privacy & terms
      reflection --> index & about & contact & copyright & privacy & terms
      meaning --> index & about & contact & copyright & privacy & terms
















  
    index --> depth & free & learn & observe & order & plan

    contact --> blog

    blog --> index & about & contact & copyright & privacy & terms
    blog --> story

    story --> index & about & contact & copyright & privacy & terms
        </div>
    </div>

    <script>
        let scale = 1;
        let posX = 0;
        let posY = 0;
        let dragging = false;
        let startX, startY;
        const container = document.getElementById('container');
        const mermaidContainer = document.getElementById('mermaid-container');

        function setupZoom() {
            // Збільшення/зменшення колесом миші
            container.addEventListener('wheel', function(e) {
                e.preventDefault();
                
                const rect = container.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;
                
                const zoom = e.deltaY > 0 ? 0.9 : 1.1;
                const newScale = Math.max(0.1, scale * zoom);
                
                posX = mouseX - (mouseX - posX) * (newScale / scale);
                posY = mouseY - (mouseY - posY) * (newScale / scale);
                scale = newScale;
                
                update();
            });

            // Початок перетягування
            container.addEventListener('mousedown', function(e) {
                dragging = true;
                startX = e.clientX - posX;
                startY = e.clientY - posY;
                container.style.cursor = 'grabbing';
            });

            // Перетягування
            document.addEventListener('mousemove', function(e) {
                if (dragging) {
                    posX = e.clientX - startX;
                    posY = e.clientY - startY;
                    update();
                }
            });

            // Кінець перетягування
            document.addEventListener('mouseup', function() {
                dragging = false;
                container.style.cursor = 'grab';
            });

            // Подвійний клік для скидання
            container.addEventListener('dblclick', function() {
                scale = 1;
                posX = 0;
                posY = 0;
                update();
            });
        }

        function update() {
            mermaidContainer.style.transform = `translate(${posX}px, ${posY}px) scale(${scale})`;
        }
    </script>
</body>
</html>